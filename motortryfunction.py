import RPi.GPIO as GPIO
import time

GPIO.setmode(GPIO.BCM)
GPIO.setup(9,GPIO.OUT)
GPIO.setup(10,GPIO.OUT)
def move_stepper(steps:int, stepPeriod:float, direction:int):
        DIR = 10
        pulsePin = 9
        if direction == 1:
            GPIO.output(DIR, GPIO.HIGH)
        elif direction == -1:
            GPIO.output(DIR,GPIO.LOW)
        else:
            raise ValueError('Direction must be 1 or -1')
        
            
        for _ in range(steps):
            GPIO.output(pulsePin,GPIO.HIGH)
            time.sleep(stepPeriod/2)
            GPIO.output(pulsePin,GPIO.LOW)
            time.sleep(stepPeriod/2)

tuple_list = [(206, 9.680295166085153e-05, -1), (108, 0.00018456327791018692, -1), (42, 0.0004711074615600865, -1), (0, 0.02, 1), (27, 0.0007212406476277739, 1), (43, 0.0004566385276774531, 1), (52, 0.0003821991247850109, 1), (55, 0.00035851253415752817, 1), (55, 0.00035786376785169156, 1), (53, 0.0003716414525939394, 1), (50, 0.00039700732809243403, 1), (46, 0.00043368940784889654, 1), (41, 0.00048313817081749744, 1), (36, 0.0005485677534992563, 1), (31, 0.0006356521130487768, 1), (26, 0.0007541915802004521, 1), (21, 0.0009218571844314542, 1), (17, 0.0011733522679283565, 1), (12, 0.0015866793732930522, 1), (8, 0.0023802191783412314, 1), (4, 0.004484347514201314, 1), (0, 0.02, 1), (2, 0.007749077876510679, -1), (5, 0.003536117299089681, -1), (8, 0.00237412792414491, -1), (10, 0.0018377979688483943, -1), (13, 0.0015347311103699262, -1), (14, 0.0013445539003863868, -1), (16, 0.0012180977595321533, -1), (17, 0.0011316089420701286, -1), (18, 0.001072280612866122, -1), (19, 0.0010326714175935337, -1), (19, 0.0010082367504880719, -1), (20, 0.0009961227806308752, -1), (20, 0.0009945322849528031, -1), (19, 0.0010023730304366827, -1), (19, 0.0010190565260907848, -1), (19, 0.0010443825663972153, -1), (18, 0.001078476526466779, -1), (17, 0.0011217622315957423, -1), (17, 0.001174961900020906, -1), (16, 0.0012391199897905786, -1), (15, 0.0013156516963388073, -1), (14, 0.0014064204947251923, -1), (13, 0.001513853417307565, -1), (12, 0.0016411087535907244, -1), (11, 0.0017923201252705993, -1), (10, 0.001972956142604042, -1), (9, 0.0021903611645613585, -1), (8, 0.002454590090492512, -1), (7, 0.0027797394656555903, -1), (6, 0.003186154423145859, -1), (5, 0.0037042640959747686, -1), (4, 0.0043816414258386355, -1), (3, 0.005296962416710214, -1), (3, 0.006590258659206859, -1), (2, 0.00853700446015272, -1), (1, 0.011763723988223044, -1), (1, 0.01806779196965562, -1), (0, 0.02, -1), (0, 0.02, -1), (0, 0.02, 1), (0, 0.02, 1), (1, 0.01740219043517731, 1), (1, 0.013612821182593148, 1), (1, 0.01142923992734428, 1), (1, 0.010032237885567041, 1), (2, 0.009080593224854452, 1), (2, 0.008406982769976154, 1), (2, 0.007919850216315189, 1), (2, 0.007564997773088791, 1), (2, 0.007308401627608288, 1), (2, 0.007127723470228252, 1), (2, 0.0070077843305180534, 1), (2, 0.006937999531916442, 1), (2, 0.0069108510246366954, 1), (2, 0.006920939350118808, 1), (2, 0.006964374717535206, 1), (2, 0.0070383744294651865, 1), (2, 0.007140990227236912, 1), (2, 0.007270919931052183, 1), (2, 0.007427375264799825, 1), (2, 0.007609988060404483, 1), (2, 0.00781874328587326, 1), (2, 0.008053931234893914, 1), (2, 0.008316113701677109, 1), (2, 0.00860610058733804, 1), (2, 0.008924934465072235, 1), (2, 0.009273881365322928, 1), (2, 0.009654426549529405, 1), (1, 0.010068274397992355, 1), (1, 0.01051735179289567, 1), (1, 0.011003814563690161, 1), (1, 0.011530056700259847, 1), (1, 0.012098722144020555, 1), (1, 0.012712719048277603, 1), (1, 0.013375236463710005, 1), (1, 0.014089763457643916, 1), (1, 0.014860110720332798, 1), (1, 0.015690434750331564, 1), (1, 0.01658526474613019, 1), (1, 0.017549532363930354, 1), (1, 0.018588604532913555, 1), (1, 0.01970831955043697, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1), (0, 0.02, 1)]
try:
    
    for tup in tuple_list:
        move_stepper(tup)
    # move_stepper()
    # move_stepper()
    # move_stepper()

except Exception as e:
    print('An error occurred:', str(e)) 
    GPIO.cleanup()
except KeyboardInterrupt:
    print('Exiting....')
    GPIO.cleanup()